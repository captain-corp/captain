{{ template "admin_header.tmpl" . }}

<div class="admin-page">
    <div class="page-header">
        <h1>Site Settings</h1>
    </div>

    {{ if .errors }}
    <div class="alert alert-error">
        {{ range .errors }}
        <p>{{ . }}</p>
        {{ end }}
    </div>
    {{ end }}

    <form method="POST" action="/admin/settings" class="settings-form">
        <input type="hidden" name="id" value="{{ .settings.ID }}">
        
        <div class="form-group">
            <label for="title">Site Title</label>
            <input type="text" id="title" name="title" value="{{ .settings.Title }}" required class="form-control">
        </div>

        <div class="form-group">
            <label for="subtitle">Site Subtitle</label>
            <input type="text" id="subtitle" name="subtitle" value="{{ .settings.Subtitle }}" required class="form-control">
        </div>

        <div class="form-group">
            <label for="timezone">Timezone</label>
            <select id="timezone" name="timezone" required class="form-control">
                {{ range .timezones }}
                    <option value="{{ . }}" {{ if eq . $.settings.Timezone }}selected{{ end }}>{{ . }}</option>
                {{ end }}
            </select>
        </div>

        <div class="form-group">
            <label for="theme">Admin Theme</label>
            <select id="theme" name="theme" class="form-control">
                <option value="light" {{ if eq .settings.Theme "light" }}selected{{ end }}>Light</option>
                <option value="dark" {{ if eq .settings.Theme "dark" }}selected{{ end }}>Dark</option>
            </select>
        </div>

        <div class="form-group">
            <label for="chroma_style">Code Highlighting Theme</label>
            <select id="chroma_style" name="chroma_style" required class="form-control">
                {{ range .chromaStyles }}
                    <option value="{{ . }}" {{ if eq . $.settings.ChromaStyle }}selected{{ end }}>{{ . }}</option>
                {{ end }}
            </select>
            <div class="form-help">Theme used for syntax highlighting in code blocks</div>
        </div>

        <div class="form-group">
            <label for="posts_per_page">Posts Per Page</label>
            <input type="number" id="posts_per_page" name="posts_per_page" value="{{ .settings.PostsPerPage }}" min="1" max="50" required class="form-control">
            <div class="form-help">Number of posts to display per page (1-50)</div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save Settings</button>
        </div>
    </form>
</div>

{{ template "admin_footer.tmpl" . }}
